<div class="SelectGroups">
  <input
    type="text"
    class="js-group-list-selector"
    placeholder="Search for a group by name"
    bind:value="input_value"
    on:focus="search(input_value)"
  >
  {{#if selected_group_names && selected_group_names.length}}
    <div class="groups-container" style="width:100%">
      <ul class="selected-groups">
        {{#each selected_groups as group, idx}}
          <li class="selected-group">
            {{selected_group_titles[idx]}}
            <a
              href="../routes/_components"
              class="search-choice-close"
              on:click="__click__remove(event, group)"
            >&nbsp;</a>
          </li>
        {{/each}}
      </ul>
    </div>
  {{/if}}
</div>

<style type="text/scss" lang="sass">
  .SelectGroups {
    .js-group-list-selector {
      width: 100%;
      height: auto;
      line-height: 1.6rem;
      padding: 0.2rem 0.8rem;
    }
    li,p {
      line-height: 1.6rem;
      padding: 0.2rem 0.8rem;
    }
    .search-groups-container {
      position: relative;
      display: block;
      background: white;
      margin-bottom: 5px;
      opacity: 0;
      transition: opacity 150ms ease-in;
      border: 1px solid rgba(0,0,0,0.2);
      border-top: none;
      box-shadow: 5px 5px 10px rgba(0,0,0,0.2);
      user-select: none;
      z-index: -1;
      &.show {
        opacity: 1;
        z-index: 1;
      }
      .search-group {
        cursor: pointer;
        &:hover {
          background-color: rgba(0,0,0,0.2);
        }
        &.selectable:hover {
          /*text-decoration: underline;*/
        }
        &.already-selected {
          color: #555;
          cursor: default;
          text-decoration: none;
        }
        .gutter {
          width: 1rem;
        }
      }
    }
    .selected-groups {
      width: 100%;
      border: 1px solid #888;
      padding: 3px;
      margin-top: 3px;
      background: white;
      .selected-group {
        display: inline-block;
        border: 1px solid #888;
        padding: 3px calc(1rem + 3px) 3px 3px;
        margin: 3px;
        background: #EEE;
        .search-choice-close {
          top: 0.25rem;
          right: 3px;
        }
      }
    }
  }
</style>
